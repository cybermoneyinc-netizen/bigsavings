<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>$750 Old Navy Gift Card - Navyist Rewards</title>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        
    :root {
      --on-blue: #003058; /* Classic Old Navy Blue */
      --on-bright-blue: #0059a3;
      --background: #ffffff;
      --foreground: #111111;
      --border: #dddddd;
      --on-yellow: #ffbc00; /* Accent for callouts */
    }
        
    body {
      font-family: 'Open Sans', sans-serif;
      background: #f4f4f4;
      color: var(--foreground);
      padding-bottom: 60px;
    }

    /* --- OLD NAVY HEADER --- */
    .on-header { 
      background: var(--on-blue); 
      color: white; 
      padding: 20px; 
      text-align: center; 
      text-transform: uppercase;
    }
    .on-logo { 
      font-size: 32px; 
      font-weight: 800; 
      letter-spacing: 1px; 
      border: 2px solid white;
      display: inline-block;
      padding: 5px 15px;
    }
    .on-sub-header { 
      background: white; 
      color: var(--on-blue); 
      padding: 10px 20px; 
      font-size: 12px; 
      font-weight: 700;
      display: flex; 
      justify-content: space-between;
      border-bottom: 1px solid var(--border);
      text-transform: uppercase;
    }

    /* --- SECTIONS --- */
    .section { display: none; max-width: 800px; margin: 0 auto; padding: 2rem 1rem; text-align: center; }
    .section.active { display: block; }
    
    .hero-card { background: white; padding: 2.5rem; border: 1px solid var(--border); }
    .hero-image img { max-width: 100%; margin: 1.5rem 0; }
    
    .on-btn { 
      display: inline-block; 
      padding: 1.2rem 3.5rem; 
      font-size: 1rem; 
      font-weight: 800; 
      background: var(--on-blue); 
      color: white; 
      border: none; 
      cursor: pointer; 
      text-decoration: none; 
      text-transform: uppercase;
      transition: background 0.2s;
    }
    .on-btn:hover { background: var(--on-bright-blue); }

    /* --- COMMENTS --- */
    .comments-container { max-width: 600px; margin: 40px auto; background: white; border: 1px solid var(--border); padding: 20px; text-align: left; }
    .comment-item { display: flex; gap: 12px; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px; }
    .avatar { width: 50px; height: 50px; border-radius: 50%; overflow: hidden; flex-shrink: 0; }
    .avatar img { width: 100%; height: 100%; object-fit: cover; }
    .author-name { font-weight: 700; font-size: 14px; color: var(--on-blue); }
    .verified-badge { color: #555; font-size: 11px; font-weight: 600; margin-left: 5px; text-transform: uppercase; }
    .comment-text { font-size: 14px; margin-top: 5px; line-height: 1.5; color: #444; }

    /* --- QUIZ --- */
    .question-card { background: white; padding: 2rem; border: 1px solid var(--border); text-align: left; }
    .option-btn { width: 100%; padding: 1.2rem; margin-bottom: 12px; border: 1px solid var(--on-blue); background: white; cursor: pointer; font-weight: 700; text-align: center; text-transform: uppercase; color: var(--on-blue); transition: 0.2s; }
    .option-btn:hover { background: var(--on-blue); color: white; }
    
    .progress-wrap { height: 10px; background: #eee; margin-bottom: 30px; position: relative; }
    #progressBar { height: 100%; background: var(--on-bright-blue); transition: width 0.3s; }
  </style>
</head>
<body>

  <header class="on-header">
    <div class="on-logo">Old Navy</div>
  </header>

  <div class="on-sub-header">
    <div id="userLocationText">Store: Locating...</div>
    <div>Navyist Rewards®</div>
  </div>

  <section id="hero" class="section active">
    <div class="hero-card">
      <h1 style="color: var(--on-blue); font-size: 2.2rem; text-transform: uppercase;">The Big $750<br>Member Giveaway</h1>
      <div class="hero-image">
        <img src="oldnavy750.png" style="width:70%;" alt="Old Navy Reward">
      </div>
      <p style="margin-bottom: 2rem; color: #444; font-size: 1.1rem; line-height: 1.6;">
        Hey <span class="dynamic-city" style="font-weight: 700;">Shopper</span>! We're celebrating our local fans. Complete this style survey to see if you qualify for a $750 gift card for your next denim, activewear, or family haul!
      </p>
      <button id="startQuizBtn" class="on-btn">Start Survey</button>
    </div>
  </section>

  <section id="quiz" class="section">
    <div class="question-card">
      <div class="progress-wrap">
        <div id="progressBar" style="width: 25%;"></div>
      </div>
      <h2 id="questionText" style="margin-bottom: 25px; color: var(--on-blue); text-transform: uppercase;">Loading...</h2>
      <div id="optionsContainer"></div>
    </div>
  </section>

  <section id="results" class="section">
    <div class="hero-card">
        <h1 style="color: var(--on-bright-blue); text-transform: uppercase;">You're Qualified!</h1>
        <p style="margin: 1.5rem 0; font-size: 1.1rem;">Style update incoming! Your <strong>$750 Old Navy Gift Card</strong> has been reserved for a resident in <span class="dynamic-city">your area</span>.</p>
        <a href="https://trk.cmclk.com/cf/click/1" class="on-btn" style="width: 100%; max-width: 400px;">Claim My $750 Reward</a>
        <p style="font-size: 0.8rem; margin-top: 25px; color: #777;">Limited time offer for members in <span class="dynamic-city">your area</span></p>
    </div>
  </section>

  <div class="comments-container">
    <div style="font-weight: 800; text-transform: uppercase; border-bottom: 2px solid var(--on-blue); padding-bottom: 10px; margin-bottom: 20px;">Customer Reviews (9)</div>
    <div id="comments-list"></div>
  </div>

  <script>
    // 1. Dynamic Location Update
    async function updateLocation() {
        try {
            const response = await fetch('https://ipapi.co/json/');
            const data = await response.json();
            const locString = `${data.city}, ${data.region_code}`;
            document.getElementById("userLocationText").textContent = `Store: ${data.city} (${data.postal})`;
            document.querySelectorAll(".dynamic-city").forEach(el => el.textContent = locString);
        } catch (e) {
            document.getElementById("userLocationText").textContent = "Store: San Francisco, CA";
        }
    }

    // 2. Quiz Configuration
    const questions = [
      { question: "How often do you shop for the family at Old Navy?", options: ["Weekly", "Monthly", "Back to school only", "First time!"] },
      { question: "Which is your favorite department?", options: ["Denim & Jeans", "Activewear", "Kids & Baby", "Clearance"] },
      { question: "Do you prefer shopping online or in-store?", options: ["In-Store", "Online", "Both!"] },
      { question: "Are you a Navyist Rewards member?", options: ["Yes", "Not yet", "I want to join!"] }
    ];

    let currentQ = 0;
    const startBtn = document.getElementById('startQuizBtn');

    function renderQuestion() {
      const q = questions[currentQ];
      document.getElementById('questionText').textContent = q.question;
      document.getElementById('progressBar').style.width = `${((currentQ + 1) / questions.length) * 100}%`;
      const container = document.getElementById('optionsContainer');
      container.innerHTML = '';
      q.options.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.textContent = opt;
        btn.onclick = () => {
          if (currentQ < questions.length - 1) { currentQ++; renderQuestion(); }
          else { 
            document.getElementById('quiz').classList.remove('active');
            document.getElementById('results').classList.add('active');
          }
        };
        container.appendChild(btn);
      });
    }

    // 3. Comments Data (Preserving all from previous version with updated text)
    const commentsData = [
        { name: "Linda Thompson", text: "I just got my card! Used it for the kids' school clothes. Old Navy really is the best for families.", time: "4m", img: "https://randomuser.me/api/portraits/women/32.jpg" },
        { name: "James Miller", text: "Does this work for Gap and Banana Republic too? Just finished the survey.", time: "18m", img: "https://randomuser.me/api/portraits/men/44.jpg" },
        { name: "Sarah G.", text: "Verified! I got my digital gift card in my email about 30 minutes later. Buying a whole new summer wardrobe tomorrow!", time: "35m", img: "https://randomuser.me/api/portraits/women/65.jpg" },
        { name: "Robert Wilson", text: "The Super Cash + this gift card = basically free jeans for the year. Thanks Old Navy!", time: "1h", img: "https://randomuser.me/api/portraits/men/12.jpg" },
        { name: "Karen B.", text: "This was so easy. Took me less than a minute. Waiting for my code now!", time: "2h", img: "https://randomuser.me/api/portraits/women/47.jpg" },
        { name: "David R.", text: "Legit. Used mine to stock up on workout gear. Love the performance line.", time: "3h", img: "https://randomuser.me/api/portraits/men/33.jpg" },
        { name: "Michelle H.", text: "Is there a limit to how many can win? My husband wants to try.", time: "4h", img: "https://randomuser.me/api/portraits/women/82.jpg" },
        { name: "Patricia S.", text: "Just told my neighbors. We all shop at the Old Navy nearby. Hope we all get it!", time: "6h", img: "https://randomuser.me/api/portraits/women/11.jpg" },
        { name: "Greg F.", text: "Just claimed mine! So easy. Finally can afford those puffer jackets for everyone.", time: "8h", img: "https://randomuser.me/api/portraits/men/5.jpg" }
    ];

    function renderComments() {
        const list = document.getElementById('comments-list');
        commentsData.forEach(c => {
            list.innerHTML += `
                <div class="comment-item">
                    <div class="avatar"><img src="${c.img}" alt="User"></div>
                    <div class="comment-content">
                        <div><span class="author-name">${c.name}</span><span class="verified-badge">✓ Verified Buyer</span></div>
                        <p class="comment-text">${c.text}</p>
                        <div style="font-size:11px; color:#999; margin-top:5px;">${c.time} ago</div>
                    </div>
                </div>
            `;
        });
    }

    startBtn.addEventListener('click', () => {
      document.getElementById('hero').classList.remove('active');
      document.getElementById('quiz').classList.add('active');
      renderQuestion();
    });

    updateLocation();
    renderComments();
  </script>
  <script>!function(){"use strict";var n="lp_ref",t="cpid",e="lpurl",c="https://trk.cmclk.com",r="(?<domain>http(?:s?)://[^/]*)".concat("/cf/click"),a="(?:(?:/(?<cta>[1-9][0-9]*)/?)|(?:/))?",i="^".concat(r).concat(a).concat("(?:$|(\\?.*))"),o='javascript:window.clickflare.l="(?<original_link>'.concat(r).concat(a,'("|(\\?[^"]*"))).*'),s=function(){return new RegExp(i,"")},u=function(){return new RegExp(o,"")};function l(n){var t=function(n){return n.replace(s(),(function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var r=t[t.length-1].domain;return n.replace(r,c)}))}(n);return'javascript:window.clickflare.l="'.concat(t,'"; void 0;')}function d(n,t){if(t&&n&&t.apply(document,[n]),/loaded|interactive|complete/.test(document.readyState))for(var e=0,c=document.links.length;e<c;e++)if(s().test(document.links[e].href)){var r=document.links[e];window.clickflare.links_replaced.has(r)||(r.href=l(r.href),window.clickflare.links_replaced.add(r))}}var f,h,m,p;!function(r,a){var i=document.onreadystatechange;window.clickflare||(window.clickflare={listeners:{},customParams:{},links_replaced:new Set,addEventListener:function(n,t){var e=this.listeners[n]||[];e.includes(t)||e.push(t),this.listeners[n]=e},dispatchEvent:function(n,t){t&&(this.customParams[n]=t),(this.listeners[n]||[]).forEach((function(n){return n(t)}))},push:function(n,t){t&&(this.customParams[n]=t),(this.listeners[n]||[]).forEach((function(n){return n(t)}))}},document.onreadystatechange=function(n){return d(n,i)},d(null,i),setTimeout((function(){!function(r,a){var i,o=function(r,a){var i=new URL("".concat(c).concat(r)),o="{",s=o+o;a.startsWith(s)||i.searchParams.set(t,a);return i.searchParams.append(n,document.referrer),i.searchParams.append(e,location.href),i.searchParams.append("lpt",document.title),i.searchParams.append("t",(new Date).getTime().toString()),i.toString()}(r,a),s=document.createElement("script"),l=document.scripts[0];s.async=1,s.src=o,s.onerror=function(){!function(){for(var n=function(n,t){var e=document.links[n];u().test(decodeURI(e.href))&&setTimeout((function(){e&&e.setAttribute("href",function(n){var t=n.match(u());if(t){var e=(t.groups||{}).original_link;return e?e.slice(0,-1):n}return n}(decodeURI(e.href)))}))},t=0,e=document.links.length;t<e;t++)n(t)}()},null===(i=l.parentNode)||void 0===i||i.insertBefore(s,l)}(r,a)})))}("".concat("/cf/tags","/").concat(new URL(window.location.href).searchParams.get("cftmid")||"{{__CONTAINER_ID__}}"),(m=new URL(window.location.href).searchParams.get(t),f=new RegExp("(^| )".concat("cf_cpid","=([^;]+)")),p=(h=document.cookie.match(f))&&h.pop()||null,m||p||"{{__CAMPAIGN_ID__}}"))}();</script>
</body>
</html>