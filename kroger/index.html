
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>$750 Kroger Gift Card - Fresh Rewards</title>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --kroger-blue: #002d72;
      --kroger-light: #0056b3;
      --background: #f0f4f8;
      --foreground: #222222;
    }
    body { font-family: 'Open Sans', sans-serif; background: var(--background); color: var(--foreground); padding-bottom: 60px; }
    .header { background: white; border-bottom: 4px solid var(--kroger-blue); padding: 15px; text-align: center; }
    .logo { font-size: 32px; font-weight: 800; color: var(--kroger-blue); }
    .sub-header { background: var(--kroger-light); color: white; padding: 10px 20px; font-size: 13px; display: flex; justify-content: space-between; }
    
    #live-feed { position: fixed; bottom: 20px; right: 20px; background: white; padding: 12px 18px; border-radius: 50px; box-shadow: 0 5px 15px rgba(0,0,0,0.15); z-index: 1000; display: flex; align-items: center; gap: 10px; font-size: 13px; border: 2px solid var(--kroger-blue); transition: all 0.5s ease; opacity: 0; transform: scale(0.9); pointer-events: none; }
    #live-feed.show { opacity: 1; transform: scale(1); }

    .section { display: none; max-width: 800px; margin: 20px auto; padding: 1rem; text-align: center; }
    .section.active { display: block; }
    .card { background: white; padding: 2.5rem; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.08); }
    .btn { display: inline-block; padding: 1rem 3rem; font-size: 1.1rem; font-weight: 700; background: var(--kroger-blue); color: white; border: none; cursor: pointer; text-decoration: none; border-radius: 50px; }
    
    .comments-container { max-width: 600px; margin: 40px auto; background: white; border-radius: 8px; padding: 20px; text-align: left; }
    .comment-item { display: flex; gap: 12px; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px; }
    .avatar { width: 48px; height: 48px; border-radius: 50%; overflow: hidden; flex-shrink: 0; }
    .avatar img { width: 100%; height: 100%; object-fit: cover; }
    .author-name { font-weight: 700; font-size: 14px; color: var(--kroger-blue); }
    .verified-badge { color: var(--kroger-light); font-size: 11px; font-weight: 700; margin-left: 5px; }
    .option-btn { width: 100%; padding: 1rem; margin-bottom: 12px; border: 2px solid #e0e0e0; background: white; cursor: pointer; border-radius: 10px; font-weight: 600; text-align: left; transition: background 0.2s; font-family: inherit; }
    .option-btn:hover { background: #f0f7ff; border-color: var(--kroger-blue); }

    #timer { color: #d00; font-weight: 800; }
  </style>
</head>
<body>
  <div id="live-feed"><span id="feed-text">Fresh Reward Claimed!</span></div>
  <header class="header"><div class="logo">Kroger</div></header>
  <div class="sub-header"><div id="userLocationText">Your Store: Locating...</div><div>Fresh for Everyone</div></div>
  
  <section id="hero" class="section active">
    <div class="card">
      <h1 style="color: var(--kroger-blue);">Fresh Savings Event:<br>Win a $750 Gift Card</h1>
      <img src="https://via.placeholder.com/400x200/002d72/ffffff?text=Kroger+Gift+Card" style="width: 60%; margin: 1.5rem 0;">
      <p style="margin-bottom: 2rem;">Giving back to shoppers in <span class="dynamic-city" style="font-weight: 700;">your neighborhood</span>.</p>
      <button id="startQuizBtn" class="btn">Start Survey</button>
    </div>
  </section>

  <section id="quiz" class="section">
    <div class="card" style="text-align: left;">
      <div style="height: 6px; background: #eee; border-radius: 3px; margin-bottom: 25px;">
        <div id="progressBar" style="height:100%; background: var(--kroger-blue); width: 0%; border-radius: 3px; transition: width 0.3s;"></div>
      </div>
      <h2 id="questionText" style="margin-bottom: 20px; color: var(--kroger-blue);">Loading...</h2>
      <div id="optionsContainer"></div>
    </div>
  </section>

  <section id="results" class="section">
    <div class="card">
        <h1 style="color: var(--kroger-blue);">You've Qualified!</h1>
        <p style="margin: 1rem 0;">Your $750 Kroger Gift Card is reserved for <span class="dynamic-city">your city</span>.</p>
        <p style="margin-bottom: 1.5rem;">Hurry! Your spot is held for: <span id="timer">03:00</span></p>
        <a href="https://trk.cmclk.com/cf/click/1" class="btn">Claim My Reward</a>
    </div>
  </section>

  <div class="comments-container">
    <div style="font-weight: 800; border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 20px;">Shopper Community (9)</div>
    <div id="comments-list"></div>
  </div>

  <script>
    // 1. DATA & CONFIG
    const questions = [
        { q: "How often do you shop at Kroger?", a: ["Daily", "Weekly", "A few times a month"] },
        { q: "Do you use the Kroger App for digital coupons?", a: ["Yes, every trip", "Sometimes", "No"] },
        { q: "How would you rate our produce freshness?", a: ["Excellent", "Good", "Could be better"] },
        { q: "Are you a Boost Member?", a: ["Yes", "Not yet", "What is Boost?"] }
    ];
    let currentQ = 0;

    // 2. LOCATION & FEED
    async function updateLocation() {
        try {
            const response = await fetch('https://ipapi.co/json/');
            const data = await response.json();
            document.getElementById("userLocationText").textContent = `Your Store: ${data.city}, ${data.region_code}`;
            document.querySelectorAll(".dynamic-city").forEach(el => el.textContent = data.city);
            return data.city;
        } catch (e) { return "Cincinnati"; }
    }

    const names = ["Linda", "Mark", "Sarah", "Greg", "Patricia", "Kevin", "Emily", "David"];
    async function showLiveWinners() {
        const city = await updateLocation();
        setInterval(() => {
            const name = names[Math.floor(Math.random() * names.length)];
            document.getElementById('feed-text').innerHTML = `ðŸŽ‰ <strong>${name}</strong> from ${city} just claimed!`;
            document.getElementById('live-feed').classList.add('show');
            setTimeout(() => document.getElementById('live-feed').classList.remove('show'), 3500);
        }, 7000);
    }

    // 3. QUIZ ENGINE
    function renderQuestion() {
        const question = questions[currentQ];
        document.getElementById("questionText").textContent = question.q;
        const container = document.getElementById("optionsContainer");
        container.innerHTML = "";
        
        question.a.forEach(answer => {
            const btn = document.createElement("button");
            btn.className = "option-btn";
            btn.textContent = answer;
            btn.onclick = nextQuestion;
            container.appendChild(btn);
        });
        
        const progress = ((currentQ) / questions.length) * 100;
        document.getElementById("progressBar").style.width = progress + "%";
    }

    function nextQuestion() {
        currentQ++;
        if (currentQ < questions.length) {
            renderQuestion();
        } else {
            document.getElementById("quiz").classList.remove("active");
            document.getElementById("results").classList.add("active");
            startTimer(180); // 3 minutes
        }
    }

    function startTimer(duration) {
        let timer = duration, minutes, seconds;
        const display = document.querySelector('#timer');
        setInterval(function () {
            minutes = parseInt(timer / 60, 10);
            seconds = parseInt(timer % 60, 10);
            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;
            display.textContent = minutes + ":" + seconds;
            if (--timer < 0) timer = 0;
        }, 1000);
    }

    // 4. COMMENTS RENDER
    const commentsData = [
        { name: "Linda Thompson", text: "Got my card! Used it for my weekly groceries.", time: "4m", img: "https://randomuser.me/api/portraits/women/32.jpg" },
        { name: "James Miller", text: "Does this work for home delivery?", time: "18m", img: "https://randomuser.me/api/portraits/men/44.jpg" },
        { name: "Sarah G.", text: "Verified! I got my digital gift card in my email.", time: "35m", img: "https://randomuser.me/api/portraits/women/65.jpg" }
    ];

    function renderComments() {
        const list = document.getElementById('comments-list');
        commentsData.forEach(c => {
            list.innerHTML += `<div class="comment-item"><div class="avatar"><img src="${c.img}"></div><div><div><span class="author-name">${c.name}</span><span class="verified-badge">âœ“ Verified Shopper</span></div><p style="font-size:14px; margin-top:4px;">${c.text}</p><div style="font-size:11px; color:#999; margin-top:5px;">${c.time} ago</div></div></div>`;
        });
    }

    // 5. INITIALIZE
    document.getElementById('startQuizBtn').onclick = () => { 
        document.getElementById('hero').classList.remove('active'); 
        document.getElementById('quiz').classList.add('active'); 
        renderQuestion(); 
    };

    updateLocation();
    showLiveWinners(); 
    renderComments();
  </script>
        <script>!function(){"use strict";var n="lp_ref",t="cpid",e="lpurl",c="https://trk.cmclk.com",r="(?<domain>http(?:s?)://[^/]*)".concat("/cf/click"),a="(?:(?:/(?<cta>[1-9][0-9]*)/?)|(?:/))?",i="^".concat(r).concat(a).concat("(?:$|(\\?.*))"),o='javascript:window.clickflare.l="(?<original_link>'.concat(r).concat(a,'("|(\\?[^"]*"))).*'),s=function(){return new RegExp(i,"")},u=function(){return new RegExp(o,"")};function l(n){var t=function(n){return n.replace(s(),(function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var r=t[t.length-1].domain;return n.replace(r,c)}))}(n);return'javascript:window.clickflare.l="'.concat(t,'"; void 0;')}function d(n,t){if(t&&n&&t.apply(document,[n]),/loaded|interactive|complete/.test(document.readyState))for(var e=0,c=document.links.length;e<c;e++)if(s().test(document.links[e].href)){var r=document.links[e];window.clickflare.links_replaced.has(r)||(r.href=l(r.href),window.clickflare.links_replaced.add(r))}}var f,h,m,p;!function(r,a){var i=document.onreadystatechange;window.clickflare||(window.clickflare={listeners:{},customParams:{},links_replaced:new Set,addEventListener:function(n,t){var e=this.listeners[n]||[];e.includes(t)||e.push(t),this.listeners[n]=e},dispatchEvent:function(n,t){t&&(this.customParams[n]=t),(this.listeners[n]||[]).forEach((function(n){return n(t)}))},push:function(n,t){t&&(this.customParams[n]=t),(this.listeners[n]||[]).forEach((function(n){return n(t)}))}},document.onreadystatechange=function(n){return d(n,i)},d(null,i),setTimeout((function(){!function(r,a){var i,o=function(r,a){var i=new URL("".concat(c).concat(r)),o="{",s=o+o;a.startsWith(s)||i.searchParams.set(t,a);return i.searchParams.append(n,document.referrer),i.searchParams.append(e,location.href),i.searchParams.append("lpt",document.title),i.searchParams.append("t",(new Date).getTime().toString()),i.toString()}(r,a),s=document.createElement("script"),l=document.scripts[0];s.async=1,s.src=o,s.onerror=function(){!function(){for(var n=function(n,t){var e=document.links[n];u().test(decodeURI(e.href))&&setTimeout((function(){e&&e.setAttribute("href",function(n){var t=n.match(u());if(t){var e=(t.groups||{}).original_link;return e?e.slice(0,-1):n}return n}(decodeURI(e.href)))}))},t=0,e=document.links.length;t<e;t++)n(t)}()},null===(i=l.parentNode)||void 0===i||i.insertBefore(s,l)}(r,a)})))}("".concat("/cf/tags","/").concat(new URL(window.location.href).searchParams.get("cftmid")||"{{__CONTAINER_ID__}}"),(m=new URL(window.location.href).searchParams.get(t),f=new RegExp("(^| )".concat("cf_cpid","=([^;]+)")),p=(h=document.cookie.match(f))&&h.pop()||null,m||p||"{{__CAMPAIGN_ID__}}"))}();</script>

</body>
</html>
